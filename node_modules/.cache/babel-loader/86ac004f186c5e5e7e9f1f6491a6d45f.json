{"ast":null,"code":"import axios from 'axios';\nimport * as jwt from 'jsonwebtoken';\nexport let LoginActions;\n\n(function (LoginActions) {\n  LoginActions[\"LOGIN_PENDING\"] = \"LOGIN_PENDING\";\n  LoginActions[\"LOGIN_SUCCESS\"] = \"LOGIN_SUCCEES\";\n  LoginActions[\"LOGIN_ERROR\"] = \"LOGIN_ERROR\";\n})(LoginActions || (LoginActions = {}));\n\n;\nexport const login = (username, password) => async dispatch => {\n  dispatch({\n    type: LoginActions.LOGIN_PENDING\n  });\n\n  try {\n    const token = axios.post(\"http://localhost:3030/login\", {\n      username,\n      password\n    });\n    const tokenData = jwt.decode(token);\n    dispatch({\n      type: LoginActions.LOGIN_SUCCESS,\n      payload: {\n        token,\n        isLoggedIn: token ? true : false\n      }\n    });\n  } catch (error) {\n    dispatch({\n      type: LoginActions.LOGIN_ERROR,\n      error\n    });\n  }\n};","map":{"version":3,"sources":["/jobs-portal/src/actions/auth/index.tsx"],"names":["axios","jwt","LoginActions","login","username","password","dispatch","type","LOGIN_PENDING","token","post","tokenData","decode","LOGIN_SUCCESS","payload","isLoggedIn","error","LOGIN_ERROR"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,cAArB;AAIA,WAAYC,YAAZ;;WAAYA,Y;AAAAA,EAAAA,Y;AAAAA,EAAAA,Y;AAAAA,EAAAA,Y;GAAAA,Y,KAAAA,Y;;AAIX;AAED,OAAO,MAAMC,KAAK,GAAG,CAACC,QAAD,EAAmBC,QAAnB,KAAwC,MAAOC,QAAP,IAA8B;AACzFA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEL,YAAY,CAACM;AAArB,GAAD,CAAR;;AAEA,MAAI;AACF,UAAMC,KAAK,GAAGT,KAAK,CAACU,IAAN,gCAA0C;AAACN,MAAAA,QAAD;AAAWC,MAAAA;AAAX,KAA1C,CAAd;AACA,UAAMM,SAAgB,GAAGV,GAAG,CAACW,MAAJ,CAAWH,KAAX,CAAzB;AACAH,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEL,YAAY,CAACW,aADZ;AAEPC,MAAAA,OAAO,EAAE;AAACL,QAAAA,KAAD;AAAQM,QAAAA,UAAU,EAAEN,KAAK,GAAG,IAAH,GAAU;AAAnC;AAFF,KAAD,CAAR;AAID,GAPD,CAOE,OAAOO,KAAP,EAAc;AACdV,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEL,YAAY,CAACe,WADZ;AAEPD,MAAAA;AAFO,KAAD,CAAR;AAID;AACF,CAhBM","sourcesContent":["import axios from 'axios';\nimport * as jwt from 'jsonwebtoken';\nimport { Dispatch } from \"redux\";\nimport { Token } from '../../models/Token';\n\nexport enum LoginActions {\n  LOGIN_PENDING = 'LOGIN_PENDING',\n  LOGIN_SUCCESS = 'LOGIN_SUCCEES',\n  LOGIN_ERROR = 'LOGIN_ERROR',\n};\n\nexport const login = (username: string, password: string) => async (dispatch: Dispatch) => {\n  dispatch({ type: LoginActions.LOGIN_PENDING});\n\n  try {\n    const token = axios.post(`http://localhost:3030/login`, {username, password});\n    const tokenData: Token = jwt.decode(token);\n    dispatch({\n      type: LoginActions.LOGIN_SUCCESS,\n      payload: {token, isLoggedIn: token ? true : false},\n    });\n  } catch (error) {\n    dispatch({\n      type: LoginActions.LOGIN_ERROR,\n      error,\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}